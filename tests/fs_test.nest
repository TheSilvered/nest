|#| 'stdfs.nest' = fs
|#| 'stdtime.nest' = t
|#| 'stdio.nest' = io

#println s [ >>> (s '\n' ><) ]

'_general_tests.nest' @fs.isfile @println
'test_files' @fs.isdir @println

'dir' @fs.mkdir
'dir_1\\dir2' @fs.mkdirs
'stdfs_file' 'w' @io.open @io.close -- creates a file
'stdfs_file' 'dir\\stdfs_file' @fs.rename
'dir\\stdfs_file' 'stdfs_file_copied' fs.CPO.make_hard_links @fs.copy

'dir\\stdfs_file' @fs.absolute_path @println
'stdfs_file_copied' 'dir\\stdfs_file' @fs.equivalent @println

... Iter :: ('dir_1' @fs.list_dir) ~= item [
    'ld > ' item >< @println
]

... Iter :: ('dir_1' @fs.list_dir_recursive) ~= item [
    'ldr > ' item >< @println
]

2 @t.sleep
'stdfs_file_copied' @fs.rmfile
'dir\\stdfs_file' @fs.rmfile
'dir' @fs.rmdir
'dir_1' @fs.rmdir_recursive
